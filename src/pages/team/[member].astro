---
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";
import { members } from "../../components/TeamSection.astro";
import TeamMemberCard from "../../components/TeamMemberCard.astro";

export function getStaticPaths() {
  return [
    { params: { member: "Brent" } },
    { params: { member: "George" } },
    { params: { member: "Mike" } },
  ];
}

interface Props {
  member: "Brent" | "George" | "Mike";
}

const { member } = Astro.params;

const _member = members.find((memberItem) => memberItem.name.includes(member));

const remainingTeam = members.filter(
  (memberItem) => !memberItem.name.includes(member),
);
---

{
  (
    <Layout title="Welcome to Astro.">
      <main class="container mx-auto pt-16">
        {!_member ? (
          <p> Oops, can't fint {member} page.</p>
        ) : (
          <div class="flex rounded-3xl bg-neutral-800 max-lg:flex-col">
            <div class="grow max-lg:w-full max-lg:p-16 max-lg:pb-0 max-sm:p-8 lg:w-1/3 lg:py-16 lg:pl-16">
              <Image
                class="max-lg:mx-auto max-lg:max-w-64 max-sm:max-w-full"
                src={_member.img}
                alt=""
                transition:name={`${_member.name}_${_member.surname}`}
              />
            </div>
            <div class="p-8 text-white lg:w-2/3 lg:p-16">
              <div class="mb-3 font-archivo-black font-black">
                <h2
                  class="text-3xl lg:text-5xl"
                  transition:name={`first-name_${_member.name}_${_member.surname}`}
                >
                  {_member.name}
                </h2>
                <p
                  class="text-3xl lg:text-5xl"
                  transition:name={`second-name_${_member.name}_${_member.surname}`}
                >
                  {_member.surname}
                </p>
              </div>
              <p>
                Lorem ipsum dolor sit amet, officia excepteur ex fugiat
                reprehenderit enim labore culpa sint ad nisi Lorem pariatur
                mollit ex esse exercitation amet. Nisi anim cupidatat excepteur
                officia. Reprehenderit nostrud nostrud ipsum Lorem est aliquip
                amet voluptate voluptate dolor minim nulla est proident. Nostrud
                officia pariatur ut officia. Sit irure elit esse ea nulla sunt
                ex occaecat reprehenderit commodo officia dolor Lorem duis
                laboris cupidatat officia voluptate. Culpa proident adipisicing
                id nulla nisi laboris ex in Lorem sunt duis officia eiusmod.
                Aliqua reprehenderit commodo ex non excepteur duis sunt velit
                enim. Voluptate laboris sint cupidatat ullamco ut ea consectetur
                et est culpa et culpa duis. loremPara
              </p>
            </div>
          </div>
        )}
        <section class="flex items-center justify-center gap-8 pt-14 max-lg:flex-col">
          {remainingTeam.map((member) => (
            <TeamMemberCard
              img={member.img}
              name={member.name}
              surname={member.surname}
              role={member.role}
            />
          ))}
        </section>
      </main>
    </Layout>
  )
}
